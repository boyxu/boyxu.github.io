<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>semaphore on 小小Lively</title><link>/tags/semaphore/</link><description>Recent content in semaphore on 小小Lively</description><generator>Hugo -- gohugo.io</generator><language>zh-CN</language><lastBuildDate>Wed, 25 May 2016 18:00:00 +0800</lastBuildDate><atom:link href="/tags/semaphore/rss.xml" rel="self" type="application/rss+xml"/><item><title>dispatch_semaphore_t的使用</title><link>/post/2016/001.html</link><pubDate>Wed, 25 May 2016 18:00:00 +0800</pubDate><guid>/post/2016/001.html</guid><description>dispatch_semaphore_t semaphore = dispatch_semaphore_create(0); dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(second * NSEC_PER_SEC)), dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{ dispatch_semaphore_signal(semaphore); }); dispatch_semaphore_wait(semaphore, DISPATCH_TIME_FOREVER); 在使用 dispatch_semaphore_t 时发现，如果调用 dispatch_semaphore_signal 与 dispatch_semaphore_wait同在同一个线程时，正好信号量为0，会</description></item></channel></rss>